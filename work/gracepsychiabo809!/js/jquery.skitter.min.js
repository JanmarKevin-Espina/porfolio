/**
 * jQuery Skitter Slideshow
 * @name jquery.skitter.js
 * @description Slideshow
 * @author Thiago Silva Ferreira - http://thiagosf.net
 * @version 4.2.3
 * @date August 04, 2010
 * @update July 12, 2014
 * @copyright (c) 2010 Thiago Silva Ferreira - http://thiagosf.net
 * @license Dual licensed under the MIT or GPL Version 2 licenses
 * @example http://thiagosf.net/projects/jquery/skitter/
 */
!function($){var number_skitter=0,skitters=[];$.fn.skitter=function(options){return this.each((function(){null==$(this).data("skitter_number")&&($(this).data("skitter_number",number_skitter),skitters.push(new $sk(this,options,number_skitter)),++number_skitter)}))};var defaults={velocity:5,interval:1e4,animation:"",numbers:!0,navigation:!1,label:!0,easing_default:"",box_skitter:null,time_interval:null,images_links:null,image_atual:null,link_atual:null,label_atual:null,target_atual:"_self",width_skitter:null,height_skitter:null,image_i:1,is_animating:!1,is_hover_box_skitter:!1,random_ia:null,show_randomly:!1,thumbs:!1,animateNumberOut:!1,animateNumberOver:!1,animateNumberActive:!1,hideTools:!1,fullscreen:!1,xml:!1,dots:!1,width_label:null,opacity_elements:.75,interval_in_elements:500,interval_out_elements:500,onLoad:null,imageSwitched:null,max_number_height:20,numbers_align:"left",preview:!1,focus:!1,foucs_active:!1,focus_position:"center",controls:!1,controls_position:"center",progressbar:!1,progressbar_css:{},is_paused:!1,is_blur:!1,is_paused_time:!1,timeStart:0,elapsedTime:0,stop_over:!0,enable_navigation_keys:!1,with_animations:[],mouseOverButton:null,mouseOutButton:null,auto_play:!0,labelAnimation:"slideUp",theme:null,structure:'<a href="#" class="prev_button">prev</a><a href="#" class="next_button">next</a><span class="info_slide"></span><div class="container_skitter"><div class="image"><a href=""><img class="image_main" /></a><div class="label_skitter"></div></div></div>'};$.skitter=function(obj,options,number){this.box_skitter=$(obj),this.timer=null,this.settings=$.extend({},defaults,options||{}),this.number_skitter=number,this.setup()};var $sk=$.skitter;$sk.fn=$sk.prototype={},$sk.fn.extend=$.extend,$sk.fn.extend({setup:function(){var self=this;if(this.settings.fullscreen){var width=$(window).width(),height=$(window).height();this.box_skitter.width(width).height(height),this.box_skitter.css({position:"absolute",top:0,left:0,"z-index":1e3}),this.settings.stop_over=!1,$("body").css({overflown:"hidden"})}if(this.settings.width_skitter=parseFloat(this.box_skitter.css("width")),this.settings.height_skitter=parseFloat(this.box_skitter.css("height")),!this.settings.width_skitter||!this.settings.height_skitter)return console.warn("Width or height size is null! - Skitter Slideshow"),!1;this.settings.theme&&this.box_skitter.addClass("skitter-"+this.settings.theme),this.box_skitter.append(this.settings.structure),this.settings.easing_default=this.getEasing(this.settings.easing),this.settings.velocity>=2&&(this.settings.velocity=1.3),this.settings.velocity<=0&&(this.settings.velocity=1),this.box_skitter.find(".info_slide").hide(),this.box_skitter.find(".label_skitter").hide(),this.box_skitter.find(".prev_button").hide(),this.box_skitter.find(".next_button").hide(),this.box_skitter.find(".container_skitter").width(this.settings.width_skitter),this.box_skitter.find(".container_skitter").height(this.settings.height_skitter);var width_label=this.settings.width_label?this.settings.width_label:this.settings.width_skitter;this.box_skitter.find(".label_skitter").width(width_label);var initial_select_class=" image_number_select",u=0;this.settings.images_links=new Array;var addImageLink=function(link,src,animation_type,label,target){if(self.settings.images_links.push([src,link,animation_type,label,target]),self.settings.thumbs){var dimension_thumb="";dimension_thumb=self.settings.width_skitter>self.settings.height_skitter?'height="100"':'width="100"',self.box_skitter.find(".info_slide").append('<span class="image_number'+initial_select_class+'" rel="'+(u-1)+'" id="image_n_'+u+"_"+self.number_skitter+'"><img src="'+src+'" '+dimension_thumb+" /></span> ")}else self.box_skitter.find(".info_slide").append('<span class="image_number'+initial_select_class+'" rel="'+(u-1)+'" id="image_n_'+u+"_"+self.number_skitter+'">'+u+"</span> ");initial_select_class=""};if(this.settings.xml?$.ajax({type:"GET",url:this.settings.xml,async:!1,dataType:"xml",success:function(xml){var ul=$("<ul></ul>");$(xml).find("skitter slide").each((function(){++u;var link=$(this).find("link").text()?$(this).find("link").text():"#",src=$(this).find("image").text(),animation_type=$(this).find("image").attr("type"),label=$(this).find("label").text(),target=$(this).find("target").text()?$(this).find("target").text():"_self";addImageLink(link,src,animation_type,label,target)}))}}):this.settings.json||this.box_skitter.find("ul li").each((function(){++u;var link=$(this).find("a").length?$(this).find("a").attr("href"):"#",src=$(this).find("img").attr("src"),animation_type=$(this).find("img").attr("class"),label=$(this).find(".label_text").html(),target=$(this).find("a").length&&$(this).find("a").attr("target")?$(this).find("a").attr("target"):"_self";addImageLink(link,src,animation_type,label,target)})),self.settings.thumbs&&!self.settings.fullscreen){self.settings.animateNumberOut={opacity:.3},self.settings.animateNumberOver={opacity:.5},self.settings.animateNumberActive={opacity:1},self.box_skitter.find(".info_slide").addClass("info_slide_thumb");var width_info_slide=(u+1)*self.box_skitter.find(".info_slide_thumb .image_number").width();self.box_skitter.find(".info_slide_thumb").width(width_info_slide),self.box_skitter.css({height:self.box_skitter.height()+self.box_skitter.find(".info_slide").height()}),self.box_skitter.append('<div class="container_thumbs"></div>');var copy_info_slide=self.box_skitter.find(".info_slide").clone();self.box_skitter.find(".info_slide").remove(),self.box_skitter.find(".container_thumbs").width(self.settings.width_skitter).append(copy_info_slide);var width_image=0,width_skitter=this.settings.width_skitter,height_skitter=this.settings.height_skitter,w_info_slide_thumb=0,info_slide_thumb=self.box_skitter.find(".info_slide_thumb"),x_value=0,y_value=self.box_skitter.offset().top;if(info_slide_thumb.find(".image_number").each((function(){width_image+=$(this).outerWidth()})),info_slide_thumb.width(width_image+"px"),w_info_slide_thumb=info_slide_thumb.width(),width_value=this.settings.width_skitter,width_value=width_skitter-100,width_info_slide>self.settings.width_skitter&&self.box_skitter.mousemove((function(e){x_value=self.box_skitter.offset().left+90;var x=e.pageX,y=e.pageY,new_x=0;x-=x_value,y-=y_value,novo_width=w_info_slide_thumb-width_value,(new_x=-novo_width*x/width_value)>0&&(new_x=0),new_x<-(w_info_slide_thumb-width_skitter)&&(new_x=-(w_info_slide_thumb-width_skitter)),y>height_skitter&&info_slide_thumb.css({left:new_x})})),self.box_skitter.find(".scroll_thumbs").css({left:10}),width_info_slide<self.settings.width_skitter){self.box_skitter.find(".info_slide").width("auto"),self.box_skitter.find(".box_scroll_thumbs").hide();var class_info=".info_slide";switch(self.settings.numbers_align){case"center":var _vleft=(self.settings.width_skitter-self.box_skitter.find(class_info).width())/2;self.box_skitter.find(class_info).css({left:_vleft});break;case"right":self.box_skitter.find(class_info).css({left:"auto",right:"-5px"});break;case"left":self.box_skitter.find(class_info).css({left:"0px"})}}}else{var class_info=".info_slide";switch(self.settings.dots&&(self.box_skitter.find(".info_slide").addClass("info_slide_dots").removeClass("info_slide"),class_info=".info_slide_dots"),self.settings.numbers_align){case"center":var _vleft=(self.settings.width_skitter-self.box_skitter.find(class_info).width())/2;self.box_skitter.find(class_info).css({left:_vleft});break;case"right":self.box_skitter.find(class_info).css({left:"auto",right:"15px"});break;case"left":self.box_skitter.find(class_info).css({left:"15px"})}self.settings.dots||self.box_skitter.find(".info_slide").height()>20&&self.box_skitter.find(".info_slide").hide()}if(this.box_skitter.find("ul").hide(),this.settings.show_randomly&&this.settings.images_links.sort((function(a,b){return Math.random()-.5})),this.settings.image_atual=this.settings.images_links[0][0],this.settings.link_atual=this.settings.images_links[0][1],this.settings.label_atual=this.settings.images_links[0][3],this.settings.target_atual=this.settings.images_links[0][4],this.settings.images_links.length>1&&(this.box_skitter.find(".prev_button").click((function(){return 0==self.settings.is_animating&&(self.settings.image_i-=2,-2==self.settings.image_i?self.settings.image_i=self.settings.images_links.length-2:-1==self.settings.image_i&&(self.settings.image_i=self.settings.images_links.length-1),self.jumpToImage(self.settings.image_i)),!1})),this.box_skitter.find(".next_button").click((function(){return self.jumpToImage(self.settings.image_i),!1})),self.box_skitter.find(".next_button, .prev_button").bind("mouseover",self.settings.mouseOverButton),self.box_skitter.find(".next_button, .prev_button").bind("mouseleave",self.settings.mouseOutButton),this.box_skitter.find(".image_number").hover((function(){"image_number image_number_select"!=$(this).attr("class")&&self.settings.animateNumberOver&&$(this).stop().animate(self.settings.animateNumberOver,300)}),(function(){"image_number image_number_select"!=$(this).attr("class")&&self.settings.animateNumberOut&&$(this).stop().animate(self.settings.animateNumberOut,500)})),this.box_skitter.find(".image_number").click((function(){if("image_number image_number_select"!=$(this).attr("class")){var imageNumber=parseInt($(this).attr("rel"));self.jumpToImage(imageNumber)}return!1})),self.settings.animateNumberOut&&this.box_skitter.find(".image_number").css(self.settings.animateNumberOut),self.settings.animateNumberActive&&this.box_skitter.find(".image_number:eq(0)").css(self.settings.animateNumberActive),self.settings.preview&&self.settings.dots)){for(var preview=$('<div class="preview_slide"><ul></ul></div>'),i=0;i<this.settings.images_links.length;i++){var li=$("<li></li>"),img=$("<img />");img.attr("src",this.settings.images_links[i][0]),li.append(img),preview.find("ul").append(li)}var width_preview_ul=parseInt(100*this.settings.images_links.length);preview.find("ul").width(width_preview_ul),$(class_info).append(preview),self.box_skitter.find(class_info).find(".image_number").mouseenter((function(){var _left_info=parseFloat(self.box_skitter.find(class_info).offset().left),_left_image,_left_preview=parseFloat($(this).offset().left)-_left_info-43,rel=parseInt($(this).attr("rel")),image_current_preview=self.box_skitter.find(".preview_slide_current img").attr("src"),_left_ul=-100*rel;self.box_skitter.find(".preview_slide").find("ul").animate({left:_left_ul},{duration:200,queue:!1,easing:"easeOutSine"}),self.box_skitter.find(".preview_slide").fadeTo(1,1).animate({left:_left_preview},{duration:200,queue:!1})})),self.box_skitter.find(class_info).mouseleave((function(){$(".preview_slide").animate({opacity:"hide"},{duration:200,queue:!1})}))}self.settings.focus&&self.focusSkitter(),self.settings.controls&&self.setControls(),self.settings.progressbar&&self.settings.auto_play&&self.addProgressBar(),self.settings.hideTools&&self.hideTools(),self.settings.enable_navigation_keys&&self.enableNavigationKeys(),this.loadImages()},loadImages:function(){var self=this,loading=$('<div class="loading">Loading</div>');this.box_skitter.append(loading);var total=this.settings.images_links.length,u=0;$.each(this.settings.images_links,(function(i){var self_il=this,loading=$('<span class="image_loading"></span>');loading.css({position:"absolute",top:"-9999em"}),self.box_skitter.append(loading);var img=new Image;$(img).load((function(){++u==total&&(self.box_skitter.find(".loading").remove(),self.box_skitter.find(".image_loading").remove(),self.start())})).error((function(){self.box_skitter.find(".loading, .image_loading, .image_number, .next_button, .prev_button").remove(),self.box_skitter.html('<p style="color:white;background:black;">Error loading images. One or more images were not found.</p>')})).attr("src",this[0])}))},start:function(){var self=this,init_pause=!1;(this.settings.numbers||this.settings.thumbs)&&this.box_skitter.find(".info_slide").fadeIn(500),this.settings.dots&&this.box_skitter.find(".info_slide_dots").fadeIn(500),this.settings.label&&this.box_skitter.find(".label_skitter").show(),this.settings.navigation&&(this.box_skitter.find(".prev_button").fadeIn(500),this.box_skitter.find(".next_button").fadeIn(500)),self.settings.auto_play&&self.startTime(),self.windowFocusOut(),self.setLinkAtual(),self.box_skitter.find(".image a img").attr({src:self.settings.image_atual}),img_link=self.box_skitter.find(".image a"),img_link=self.resizeImage(img_link),img_link.find("img").fadeIn(1500),self.setValueBoxText(),self.showBoxText(),self.settings.auto_play&&self.stopOnMouseOver();var mouseOverInit=function(){self.settings.stop_over&&(init_pause=!0,self.settings.is_hover_box_skitter=!0,self.clearTimer(!0),self.pauseProgressBar())};self.box_skitter.mouseover(mouseOverInit),self.box_skitter.find(".next_button").mouseover(mouseOverInit),self.settings.images_links.length>1&&!init_pause?self.settings.auto_play&&(self.timer=setTimeout((function(){self.nextImage()}),self.settings.interval)):self.box_skitter.find(".loading, .image_loading, .image_number, .next_button, .prev_button").remove(),$.isFunction(self.settings.onLoad)&&self.settings.onLoad(self)},jumpToImage:function(imageNumber){0==this.settings.is_animating&&(this.settings.elapsedTime=0,this.box_skitter.find(".box_clone").stop(),this.clearTimer(!0),this.settings.image_i=Math.floor(imageNumber),this.box_skitter.find(".image a").attr({href:this.settings.link_atual}),this.box_skitter.find(".image_main").attr({src:this.settings.image_atual}),this.box_skitter.find(".box_clone").remove(),this.nextImage())},nextImage:function(){var self=this;if(animations_functions=["cube","cubeRandom","block","cubeStop","cubeStopRandom","cubeHide","cubeSize","horizontal","showBars","showBarsRandom","tube","fade","fadeFour","paralell","blind","blindHeight","blindWidth","directionTop","directionBottom","directionRight","directionLeft","cubeSpread","glassCube","glassBlock","circles","circlesInside","circlesRotate","cubeShow","upBars","downBars","hideBars","swapBars","swapBarsBack","swapBlocks","cut"],this.settings.progressbar&&this.hideProgressBar(),animation_type=""==this.settings.animation&&this.settings.images_links[this.settings.image_i][2]?this.settings.images_links[this.settings.image_i][2]:""==this.settings.animation?"default":this.settings.animation,"randomSmart"==animation_type)this.settings.random_ia||(animations_functions.sort((function(){return.5-Math.random()})),this.settings.random_ia=animations_functions),animation_type=this.settings.random_ia[this.settings.image_i];else if("random"==animation_type){var random_id=parseInt(Math.random()*animations_functions.length);animation_type=animations_functions[random_id]}else if(this.settings.with_animations.length>0){var total_with_animations=this.settings.with_animations.length;null==this.settings._i_animation&&(this.settings._i_animation=0),animation_type=this.settings.with_animations[this.settings._i_animation],++this.settings._i_animation,this.settings._i_animation>=total_with_animations&&(this.settings._i_animation=0)}switch(animation_type){case"cube":this.animationCube();break;case"cubeRandom":this.animationCube({random:!0});break;case"block":this.animationBlock();break;case"cubeStop":this.animationCubeStop();break;case"cubeStopRandom":this.animationCubeStop({random:!0});break;case"cubeHide":this.animationCubeHide();break;case"cubeSize":this.animationCubeSize();break;case"horizontal":this.animationHorizontal();break;case"showBars":this.animationShowBars();break;case"showBarsRandom":this.animationShowBars({random:!0});break;case"tube":this.animationTube();break;case"fade":this.animationFade();break;case"fadeFour":this.animationFadeFour();break;case"paralell":this.animationParalell();break;case"blind":this.animationBlind();break;case"blindHeight":this.animationBlindDimension({height:!0});break;case"blindWidth":this.animationBlindDimension({height:!1,time_animate:400,delay:50});break;case"directionTop":this.animationDirection({direction:"top"});break;case"directionBottom":this.animationDirection({direction:"bottom"});break;case"directionRight":this.animationDirection({direction:"right",total:5});break;case"directionLeft":this.animationDirection({direction:"left",total:5});break;case"cubeSpread":this.animationCubeSpread();break;case"cubeJelly":this.animationCubeJelly();break;case"glassCube":this.animationGlassCube();break;case"glassBlock":this.animationGlassBlock();break;case"circles":this.animationCircles();break;case"circlesInside":this.animationCirclesInside();break;case"circlesRotate":this.animationCirclesRotate();break;case"cubeShow":this.animationCubeShow();break;case"upBars":this.animationDirectionBars({direction:"top"});break;case"downBars":this.animationDirectionBars({direction:"bottom"});break;case"hideBars":this.animationHideBars();break;case"swapBars":this.animationSwapBars();break;case"swapBarsBack":this.animationSwapBars({easing:"easeOutBack"});break;case"swapBlocks":this.animationSwapBlocks();break;case"cut":this.animationCut();break;default:this.animationTube()}},animationCube:function(options){var self=this,options=$.extend({},{random:!1},options||{});this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutExpo":this.settings.easing_default,time_animate=700/this.settings.velocity;this.setActualLevel();var division_w=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/8)),division_h=Math.ceil(this.settings.height_skitter/(this.settings.height_skitter/3)),total=division_w*division_h,width_box=Math.ceil(this.settings.width_skitter/division_w),height_box=Math.ceil(this.settings.height_skitter/division_h),init_top=this.settings.height_skitter+200,init_left=this.settings.height_skitter+200,col_t=0,col=0;for(i=0;i<total;i++){init_top=i%2==0?init_top:-init_top,init_left=i%2==0?init_left:-init_left;var _vtop=init_top+height_box*col_t+150*col_t,_vleft=-self.settings.width_skitter,_vtop_image=-height_box*col_t,_vleft_image=-width_box*col,_btop=height_box*col_t,_bleft=width_box*col,box_clone=this.getBoxClone();box_clone.hide();var delay_time=50*i;options.random?(delay_time=40*col,box_clone.css({left:_vleft+"px",top:_vtop+"px",width:width_box,height:height_box})):(time_animate=500,box_clone.css({left:this.settings.width_skitter+width_box*i,top:this.settings.height_skitter+height_box*i,width:width_box,height:height_box})),this.addBoxClone(box_clone);var callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.show().delay(delay_time).animate({top:_btop+"px",left:_bleft+"px"},time_animate,easing,callback),options.random?(box_clone.find("img").css({left:_vleft_image+100,top:_vtop_image+50}),box_clone.find("img").delay(delay_time+time_animate/2).animate({left:_vleft_image,top:_vtop_image},1e3,"easeOutBack")):(box_clone.find("img").css({left:_vleft_image,top:_vtop_image}),box_clone.find("img").delay(delay_time+time_animate/2).fadeTo(100,.5).fadeTo(300,1)),++col_t==division_h&&(col_t=0,col++)}},animationBlock:function(options){var self=this;this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutQuad":this.settings.easing_default,time_animate=500/this.settings.velocity;this.setActualLevel();var total=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/15)),width_box=Math.ceil(this.settings.width_skitter/total),height_box=this.settings.height_skitter;for(i=0;i<total;i++){var _bleft=width_box*i,_btop=0,box_clone=this.getBoxClone();box_clone.css({left:this.settings.width_skitter+100,top:0,width:width_box,height:height_box}),box_clone.find("img").css({left:-width_box*i}),this.addBoxClone(box_clone);var delay_time=80*i,callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.show().delay(delay_time).animate({top:0,left:_bleft},time_animate,easing),box_clone.find("img").hide().delay(delay_time+100).animate({opacity:"show"},time_animate+300,easing,callback)}},animationCubeStop:function(options){var self=this,options=$.extend({},{random:!1},options||{});this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeInQuad":this.settings.easing_default,time_animate=300/this.settings.velocity,image_old=this.box_skitter.find(".image_main").attr("src");this.setActualLevel(),this.setLinkAtual(),this.box_skitter.find(".image_main").attr({src:this.settings.image_atual});var division_w=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/8)),division_h=Math.ceil(this.settings.height_skitter/(this.settings.width_skitter/8)),total=division_w*division_h,width_box=Math.ceil(this.settings.width_skitter/division_w),height_box=Math.ceil(this.settings.height_skitter/division_h),init_top=0,init_left=0,col_t=0,col=0,_ftop=this.settings.width_skitter/16;for(i=0;i<total;i++){var _vtop=(init_top=i%2==0?init_top:-init_top)+height_box*col_t,_vleft=(init_left=i%2==0?init_left:-init_left)+width_box*col,_vtop_image=-height_box*col_t,_vleft_image=-width_box*col,_btop=_vtop-_ftop,_bleft=_vleft-_ftop,box_clone=this.getBoxCloneImgOld(image_old);box_clone.css({left:_vleft+"px",top:_vtop+"px",width:width_box,height:height_box}),box_clone.find("img").css({left:_vleft_image,top:_vtop_image}),this.addBoxClone(box_clone),box_clone.show();var delay_time=50*i;options.random&&(time_animate=400*(self.getRandom(2)+1)/this.settings.velocity,_btop=_vtop,_bleft=_vleft,delay_time=Math.ceil(30*self.getRandom(30))),options.random&&i==total-1&&(time_animate=1200,delay_time=900);var callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.delay(delay_time).animate({opacity:"hide",top:_btop+"px",left:_bleft+"px"},time_animate,easing,callback),++col_t==division_h&&(col_t=0,col++)}},animationCubeHide:function(options){var self=this;this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutQuad":this.settings.easing_default,time_animate=500/this.settings.velocity,image_old=this.box_skitter.find(".image_main").attr("src");this.setActualLevel(),this.setLinkAtual(),this.box_skitter.find(".image_main").attr({src:this.settings.image_atual});var division_w=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/8)),division_h=Math.ceil(this.settings.height_skitter/(this.settings.height_skitter/3)),total=division_w*division_h,width_box=Math.ceil(this.settings.width_skitter/division_w),height_box=Math.ceil(this.settings.height_skitter/division_h),init_top=0,init_left=0,col_t=0,col=0;for(i=0;i<total;i++){var _vtop=(init_top=i%2==0?init_top:-init_top)+height_box*col_t,_vleft=(init_left=i%2==0?init_left:-init_left)+width_box*col,_vtop_image=-height_box*col_t,_vleft_image=-width_box*col,_btop=_vtop-50,_bleft=_vleft-50,box_clone=this.getBoxCloneImgOld(image_old);box_clone.css({left:_vleft+"px",top:_vtop+"px",width:width_box,height:height_box}),box_clone.find("img").css({left:_vleft_image,top:_vtop_image}),this.addBoxClone(box_clone),box_clone.show();var delay_time=50*i;delay_time=i==total-1?50*total:delay_time;var callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.delay(delay_time).animate({opacity:"hide"},time_animate,easing,callback),++col_t==division_h&&(col_t=0,col++)}},animationCubeJelly:function(options){var self=this;this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeInBack":this.settings.easing_default,time_animate=300/this.settings.velocity,image_old=this.box_skitter.find(".image_main").attr("src");this.setActualLevel(),this.setLinkAtual(),this.box_skitter.find(".image_main").attr({src:this.settings.image_atual});var division_w=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/8)),division_h=Math.ceil(this.settings.height_skitter/(this.settings.height_skitter/3)),total=division_w*division_h,width_box=Math.ceil(this.settings.width_skitter/division_w),height_box=Math.ceil(this.settings.height_skitter/division_h),init_top=0,init_left=0,col_t=0,col=0,u=-1;for(i=0;i<total;i++){col%2!=0?(0==col_t&&(u=u+division_h+1),u--):(col>0&&0==col_t&&(u+=2),u++);var _vtop=(init_top=i%2==0?init_top:-init_top)+height_box*col_t,_vleft=(init_left=i%2==0?init_left:-init_left)+width_box*col,_vtop_image=-height_box*col_t,_vleft_image=-width_box*col,_btop=_vtop-50,_bleft=_vleft-50,box_clone=this.getBoxCloneImgOld(image_old);box_clone.css({left:_vleft+"px",top:_vtop+"px",width:width_box,height:height_box}),box_clone.find("img").css({left:_vleft_image,top:_vtop_image}),this.addBoxClone(box_clone),box_clone.show();var delay_time=50*i,callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.delay(delay_time).animate({width:"+=100px",height:"+=100px",top:"-=20px",left:"-=20px",opacity:"hide"},time_animate,easing,callback),++col_t==division_h&&(col_t=0,col++)}},animationCubeSize:function(options){var self=this;this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeInOutQuad":this.settings.easing_default,time_animate=600/this.settings.velocity,image_old=this.box_skitter.find(".image_main").attr("src");this.setActualLevel(),this.setLinkAtual(),this.box_skitter.find(".image_main").attr({src:this.settings.image_atual});var division_w=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/8)),division_h=Math.ceil(this.settings.height_skitter/(this.settings.height_skitter/3)),total=division_w*division_h,width_box=Math.ceil(this.settings.width_skitter/division_w),height_box=Math.ceil(this.settings.height_skitter/division_h),init_top=0,init_left=0,col_t=0,col=0,_ftop=Math.ceil(this.settings.width_skitter/6);for(i=0;i<total;i++){var _vtop=(init_top=i%2==0?init_top:-init_top)+height_box*col_t,_vleft=(init_left=i%2==0?init_left:-init_left)+width_box*col,_vtop_image=-height_box*col_t,_vleft_image=-width_box*col,_btop=_vtop-_ftop,_bleft=_vleft-_ftop,box_clone=this.getBoxCloneImgOld(image_old);box_clone.css({left:_vleft,top:_vtop,width:width_box,height:height_box}),box_clone.find("img").css({left:_vleft_image,top:_vtop_image}),this.addBoxClone(box_clone),box_clone.show();var delay_time=50*i,callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.delay(delay_time).animate({opacity:"hide",width:"hide",height:"hide",top:_vtop+1.5*width_box,left:_vleft+1.5*height_box},time_animate,easing,callback),++col_t==division_h&&(col_t=0,col++)}},animationHorizontal:function(options){var self=this;this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutExpo":this.settings.easing_default,time_animate=700/this.settings.velocity;this.setActualLevel();var total=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/7)),width_box=this.settings.width_skitter,height_box=Math.ceil(this.settings.height_skitter/total);for(i=0;i<total;i++){var _bleft=(i,""+width_box),_btop=i*height_box,box_clone=this.getBoxClone();box_clone.css({left:_bleft+"px",top:_btop+"px",width:width_box,height:height_box}),box_clone.find("img").css({left:0,top:-_btop}),this.addBoxClone(box_clone);var delay_time=90*i,callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.delay(delay_time).animate({opacity:"show",top:_btop,left:0},time_animate,easing,callback)}},animationShowBars:function(options){var self=this,options=$.extend({},{random:!1},options||{});this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutQuad":this.settings.easing_default,time_animate=400/this.settings.velocity;this.setActualLevel();var total=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/10)),width_box=Math.ceil(this.settings.width_skitter/total),height_box=this.settings.height_skitter;for(i=0;i<total;i++){var _bleft=width_box*i,_btop=0,box_clone=this.getBoxClone();if(box_clone.css({left:_bleft,top:-50,width:width_box,height:height_box}),box_clone.find("img").css({left:-width_box*i,top:0}),this.addBoxClone(box_clone),options.random){var random,delay_time=50*this.getRandom(total);delay_time=i==total-1?50*total:delay_time}else{var delay_time=70*i;time_animate-=2*i}var callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.delay(delay_time).animate({opacity:"show",top:"0px",left:_bleft+"px"},time_animate,easing,callback)}},animationTube:function(options){var self=this;this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutElastic":this.settings.easing_default,time_animate=600/this.settings.velocity;this.setActualLevel();var total=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/10)),width_box=Math.ceil(this.settings.width_skitter/total),height_box=this.settings.height_skitter;for(i=0;i<total;i++){var _btop=0,_vtop=height_box,vleft=width_box*i,box_clone=this.getBoxClone();box_clone.css({left:vleft,top:_vtop,height:height_box,width:width_box}),box_clone.find("img").css({left:-vleft}),this.addBoxClone(box_clone);var random,delay_time=30*this.getRandom(total),callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.show().delay(delay_time).animate({top:0},time_animate,easing,callback)}},animationFade:function(options){var self=this;this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutQuad":this.settings.easing_default,time_animate=800/this.settings.velocity;this.setActualLevel();var width_box=this.settings.width_skitter,height_box=this.settings.height_skitter,total=2;for(i=0;i<2;i++){var _vtop=0,_vleft=0,box_clone=this.getBoxClone();box_clone.css({left:0,top:0,width:width_box,height:height_box}),this.addBoxClone(box_clone);var callback=1==i?function(){self.finishAnimation()}:"";box_clone.animate({opacity:"show",left:0,top:0},time_animate,easing,callback)}},animationFadeFour:function(options){var self=this;this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutQuad":this.settings.easing_default,time_animate=500/this.settings.velocity;this.setActualLevel();var width_box=this.settings.width_skitter,height_box=this.settings.height_skitter,total=4;for(i=0;i<4;i++){if(0==i)var _vtop="-100px",_vleft="-100px";else if(1==i)var _vtop="-100px",_vleft="100px";else if(2==i)var _vtop="100px",_vleft="-100px";else if(3==i)var _vtop="100px",_vleft="100px";var box_clone=this.getBoxClone();box_clone.css({left:_vleft,top:_vtop,width:width_box,height:height_box}),this.addBoxClone(box_clone);var callback=3==i?function(){self.finishAnimation()}:"";box_clone.animate({opacity:"show",left:0,top:0},time_animate,easing,callback)}},animationParalell:function(options){var self=this;this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutQuad":this.settings.easing_default,time_animate=400/this.settings.velocity;this.setActualLevel();var total=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/16)),width_box=Math.ceil(this.settings.width_skitter/total),height_box=this.settings.height_skitter;for(i=0;i<total;i++){var _bleft=width_box*i,_btop=0,box_clone=this.getBoxClone(),delay_time;box_clone.css({left:_bleft,top:0-this.settings.height_skitter,width:width_box,height:height_box}),box_clone.find("img").css({left:-width_box*i,top:0}),this.addBoxClone(box_clone),i<=total/2-1?delay_time=1400-200*i:i>total/2-1&&(delay_time=200*(i-total/2)),delay_time/=2.5;var callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.delay(delay_time).animate({top:"0px",left:_bleft+"px",opacity:"show"},time_animate,easing,callback)}},animationBlind:function(options){var self=this,options=$.extend({},{height:!1},options||{});this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutQuad":this.settings.easing_default,time_animate=400/this.settings.velocity;this.setActualLevel();var total=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/16)),width_box=Math.ceil(this.settings.width_skitter/total),height_box=this.settings.height_skitter;for(i=0;i<total;i++){var _bleft=width_box*i,_btop=0,box_clone=this.getBoxClone(),delay_time;if(box_clone.css({left:_bleft,top:0,width:width_box,height:height_box}),box_clone.find("img").css({left:-width_box*i,top:0}),this.addBoxClone(box_clone),options.height){i<=total/2-1?delay_time=200+200*i:i>total/2-1&&(delay_time=200*(total/2-i)+100*total);var callback=i==total/2?function(){self.finishAnimation()}:""}else{i<=total/2-1?delay_time=1400-200*i:i>total/2-1&&(delay_time=200*(i-total/2));var callback=i==total-1?function(){self.finishAnimation()}:""}if(delay_time/=2.5,options.height){time_animate+=2*i;var easing="easeOutQuad";box_clone.delay(delay_time).animate({opacity:"show",top:"0px",left:_bleft+"px",height:"show"},time_animate,easing,callback)}else box_clone.delay(delay_time).animate({opacity:"show",top:"0px",left:_bleft+"px",width:"show"},time_animate,easing,callback)}},animationBlindDimension:function(options){var self=this,options=$.extend({},{height:!0,time_animate:500,delay:100},options||{});this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutQuad":this.settings.easing_default,time_animate=options.time_animate/this.settings.velocity;this.setActualLevel();var total=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/16)),width_box=Math.ceil(this.settings.width_skitter/total),height_box=this.settings.height_skitter;for(i=0;i<total;i++){var _bleft=width_box*i,_btop=0,box_clone=this.getBoxClone();box_clone.css({left:_bleft,top:0,width:width_box,height:height_box}),box_clone.find("img").css({left:-width_box*i,top:0}),this.addBoxClone(box_clone);var delay_time=options.delay*i,callback=i==total-1?function(){self.finishAnimation()}:"";if(options.height){var easing="easeOutQuad";box_clone.delay(delay_time).animate({opacity:"show",top:"0px",left:_bleft+"px",height:"show"},time_animate,easing,callback)}else box_clone.delay(delay_time).animate({opacity:"show",top:"0px",left:_bleft+"px",width:"show"},time_animate,easing,callback)}},animationDirection:function(options){var self=this,options=$.extend({},{direction:"top",delay_type:"sequence",total:7},options||{});this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeInOutExpo":this.settings.easing_default,time_animate=1200/this.settings.velocity,image_old=this.box_skitter.find(".image_main").attr("src");this.setActualLevel(),this.setLinkAtual(),this.box_skitter.find(".image_main").attr({src:this.settings.image_atual}),this.box_skitter.find(".image_main").hide();var total=options.total;for(i=0;i<total;i++){switch(options.direction){default:case"top":var width_box=Math.ceil(this.settings.width_skitter/total),height_box,_itopc=0,_ileftc,_ftopc=-(height_box=this.settings.height_skitter),_fleftc=_ileftc=width_box*i,_itopn=height_box,_ileftn=_ileftc,_ftopn=0,_fleftn=_ileftc,_vtop_image=0,_vleft_image=-_ileftc;break;case"bottom":var width_box=Math.ceil(this.settings.width_skitter/total),height_box,_itopc=0,_ileftc,_ftopc=height_box=this.settings.height_skitter,_fleftc=_ileftc=width_box*i,_itopn=-height_box,_ileftn=_ileftc,_ftopn=0,_fleftn=_ileftc,_vtop_image=0,_vleft_image=-_ileftc;break;case"right":var width_box=this.settings.width_skitter,height_box,_itopc,_ileftc=0,_ftopc=_itopc=(height_box=Math.ceil(this.settings.height_skitter/total))*i,_fleftc,_itopn=_itopc,_ileftn=-(_fleftc=width_box),_ftopn=_itopc,_fleftn=0,_vtop_image=-_itopc,_vleft_image=0;break;case"left":var width_box=this.settings.width_skitter,height_box,_itopc,_ileftc=0,_ftopc=_itopc=(height_box=Math.ceil(this.settings.height_skitter/total))*i,_fleftc,_itopn=_itopc,_ileftn=-(_fleftc=-width_box),_ftopn=_itopc,_fleftn=0,_vtop_image=-_itopc,_vleft_image=0}switch(options.delay_type){case"zebra":default:var delay_time=i%2==0?0:150;break;case"random":var delay_time=30*Math.random()*30;break;case"sequence":var delay_time=100*i}var box_clone=this.getBoxCloneImgOld(image_old);box_clone.find("img").css({left:_vleft_image,top:_vtop_image}),box_clone.css({top:_itopc,left:_ileftc,width:width_box,height:height_box}),this.addBoxClone(box_clone),box_clone.show(),box_clone.delay(delay_time).animate({top:_ftopc,left:_fleftc},time_animate,easing);var box_clone_next=this.getBoxClone();box_clone_next.find("img").css({left:_vleft_image,top:_vtop_image}),box_clone_next.css({top:_itopn,left:_ileftn,width:width_box,height:height_box}),this.addBoxClone(box_clone_next),box_clone_next.show();var callback=i==total-1?function(){self.finishAnimation()}:"";box_clone_next.delay(delay_time).animate({top:_ftopn,left:_fleftn},time_animate,easing,callback)}},animationCubeSpread:function(options){var self=this;this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutQuad":this.settings.easing_default,time_animate=700/this.settings.velocity;this.setActualLevel();var division_w=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/8)),division_h=Math.ceil(this.settings.height_skitter/(this.settings.width_skitter/8)),total=division_w*division_h,width_box=Math.ceil(this.settings.width_skitter/division_w),height_box=Math.ceil(this.settings.height_skitter/division_h),init_top=0,init_left=0,col_t=0,col=0,order=new Array,spread=new Array;for(i=0;i<total;i++){var _vtop=(init_top=i%2==0?init_top:-init_top)+height_box*col_t,_vleft=(init_left=i%2==0?init_left:-init_left)+width_box*col;order[i]=[_vtop,_vleft],++col_t==division_h&&(col_t=0,col++)}for(col_t=0,col=0,i=0;i<total;i++)spread[i]=i;var spread=self.shuffleArray(spread);for(i=0;i<total;i++){var _vtop,_vleft,_vtop_image=-height_box*col_t,_vleft_image=-width_box*col,_btop=_vtop=(init_top=i%2==0?init_top:-init_top)+height_box*col_t,_bleft=_vleft=(init_left=i%2==0?init_left:-init_left)+width_box*col;_vtop=order[spread[i]][0],_vleft=order[spread[i]][1];var box_clone=this.getBoxClone();box_clone.css({left:_vleft+"px",top:_vtop+"px",width:width_box,height:height_box}),box_clone.find("img").css({left:_vleft_image,top:_vtop_image}),this.addBoxClone(box_clone);var delay_time=30*Math.random()*30;i==total-1&&(delay_time=900);var callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.delay(delay_time).animate({opacity:"show",top:_btop+"px",left:_bleft+"px"},time_animate,easing,callback),++col_t==division_h&&(col_t=0,col++)}},animationGlassCube:function(options){var self=this;this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutExpo":this.settings.easing_default,time_animate=500/this.settings.velocity;this.setActualLevel();var total=2*Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/10)),width_box=2*Math.ceil(this.settings.width_skitter/total),height_box=this.settings.height_skitter/2,col=0;for(i=0;i<total;i++){mod=i%2==0;var _ileft=width_box*col,_itop=mod?-self.settings.height_skitter:self.settings.height_skitter,_fleft=width_box*col,_ftop=mod?0:height_box,_bleft=-width_box*col,_btop=mod?0:-height_box,delay_time=120*col,box_clone=this.getBoxClone();box_clone.css({left:_ileft,top:_itop,width:width_box,height:height_box}),box_clone.find("img").css({left:_bleft+width_box/1.5,top:_btop}).delay(delay_time).animate({left:_bleft,top:_btop},1.9*time_animate,"easeOutQuad"),this.addBoxClone(box_clone);var callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.show().delay(delay_time).animate({top:_ftop,left:_fleft},time_animate,easing,callback),i%2!=0&&col++}},animationGlassBlock:function(options){var self=this;this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutExpo":this.settings.easing_default,time_animate=700/this.settings.velocity;this.setActualLevel();var total=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/10)),width_box=Math.ceil(this.settings.width_skitter/total),height_box=this.settings.height_skitter;for(i=0;i<total;i++){var _ileft=width_box*i,_itop=0,_fleft=width_box*i,_ftop=0,_bleft=-width_box*i,_btop=0,delay_time=100*i,box_clone=this.getBoxClone();box_clone.css({left:_ileft,top:0,width:width_box,height:height_box}),box_clone.find("img").css({left:_bleft+width_box/1.5,top:0}).delay(delay_time).animate({left:_bleft,top:0},1.1*time_animate,"easeInOutQuad"),this.addBoxClone(box_clone);var callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.delay(delay_time).animate({top:0,left:_fleft,opacity:"show"},time_animate,easing,callback)}},animationCircles:function(options){var self=this;this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeInQuad":this.settings.easing_default,time_animate=500/this.settings.velocity;this.setActualLevel();var total=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/10)),size_box=100,radius=Math.sqrt(Math.pow(this.settings.width_skitter,2)+Math.pow(this.settings.height_skitter,2)),radius=Math.ceil(radius);for(i=0;i<total;i++){var _ileft=self.settings.width_skitter/2-size_box/2,_itop=self.settings.height_skitter/2-size_box/2,_fleft=_ileft,_ftop=_itop,box_clone=null;box_clone=this.getBoxCloneBackground({image:self.settings.image_atual,left:_ileft,top:_itop,width:size_box,height:size_box,position:{top:-_itop,left:-_ileft}}).css3({"border-radius":radius+"px"}),size_box+=100,this.addBoxClone(box_clone);var delay_time=70*i,callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.delay(delay_time).animate({top:_ftop,left:_fleft,opacity:"show"},time_animate,easing,callback)}},animationCirclesInside:function(options){var self=this;this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeInQuad":this.settings.easing_default,time_animate=500/this.settings.velocity,image_old=this.box_skitter.find(".image_main").attr("src");this.setActualLevel(),this.setLinkAtual(),this.box_skitter.find(".image_main").attr({src:this.settings.image_atual});var total=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/10)),radius=Math.sqrt(Math.pow(this.settings.width_skitter,2)+Math.pow(this.settings.height_skitter,2)),radius,size_box=radius=Math.ceil(radius);for(i=0;i<total;i++){var _ileft=self.settings.width_skitter/2-size_box/2,_itop=self.settings.height_skitter/2-size_box/2,_fleft=_ileft,_ftop=_itop,box_clone=null;box_clone=this.getBoxCloneBackground({image:image_old,left:_ileft,top:_itop,width:size_box,height:size_box,position:{top:-_itop,left:-_ileft}}).css3({"border-radius":radius+"px"}),size_box-=100,this.addBoxClone(box_clone),box_clone.show();var delay_time=70*i,callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.delay(delay_time).animate({top:_ftop,left:_fleft,opacity:"hide"},time_animate,easing,callback)}},animationCirclesRotate:function(options){var self=this;this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutQuad":this.settings.easing_default,time_animate=500/this.settings.velocity,image_old=this.box_skitter.find(".image_main").attr("src");this.setActualLevel(),this.setLinkAtual(),this.box_skitter.find(".image_main").attr({src:this.settings.image_atual});var total=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/10)),radius=Math.sqrt(Math.pow(this.settings.width_skitter,2)+Math.pow(this.settings.height_skitter,2)),radius,size_box=radius=Math.ceil(radius);for(i=0;i<total;i++){var _ileft=self.settings.width_skitter/2-size_box/2,_itop=self.settings.height_skitter/2-size_box/2,_fleft=_ileft,_ftop=_itop,box_clone=null;box_clone=this.getBoxCloneBackground({image:image_old,left:_ileft,top:_itop,width:size_box,height:size_box,position:{top:-_itop,left:-_ileft}}).css3({"border-radius":radius+"px"}),size_box-=200,this.addBoxClone(box_clone),box_clone.show();var delay_time=100*i,callback=i==total-1?function(){self.finishAnimation()}:"",_rotate=i%2==0?45:-45;box_clone.delay(delay_time).animate({top:_ftop,left:_fleft,opacity:"hide"},time_animate,easing,callback),box_clone.delay(delay_time).animateRotate(_rotate,time_animate+600,"easeInQuad")}},animationCubeShow:function(options){var self=this;this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutQuad":this.settings.easing_default,time_animate=400/this.settings.velocity;this.setActualLevel();var division_w=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/8)),division_h=Math.ceil(this.settings.height_skitter/(this.settings.height_skitter/4)),total=division_w*division_h,width_box=Math.ceil(this.settings.width_skitter/division_w),height_box=Math.ceil(this.settings.height_skitter/division_h),last=!1,_btop=0,_bleft=0,line=0,col=0;for(i=0;i<total;i++){_btop=height_box*line,_bleft=width_box*col;var delay_time=30*i,box_clone=this.getBoxClone();box_clone.css({left:_bleft,top:_btop,width:width_box,height:height_box}).hide(),box_clone.find("img").css({left:-_bleft,top:-_btop}),this.addBoxClone(box_clone);var callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.delay(delay_time).animate({width:"show",height:"show"},time_animate,easing,callback),++line==division_h&&(line=0,col++)}},animationDirectionBars:function(options){var self=this,options=$.extend({},{direction:"top"},options||{});this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeInOutQuad":this.settings.easing_default,time_animate=400/this.settings.velocity,image_old=this.box_skitter.find(".image_main").attr("src");this.setActualLevel(),this.setLinkAtual(),this.box_skitter.find(".image_main").attr({src:this.settings.image_atual});var total=12,width_box=Math.ceil(this.settings.width_skitter/12),height_box=this.settings.height_skitter,_ftop="top"==options.direction?-height_box:height_box;for(i=0;i<12;i++){var _vtop=0,_vleft=width_box*i,_vtop_image=0,_vleft_image=-width_box*i,box_clone=this.getBoxCloneImgOld(image_old);box_clone.css({left:_vleft+"px",top:"0px",width:width_box,height:height_box}),box_clone.find("img").css({left:_vleft_image,top:0}),this.addBoxClone(box_clone),box_clone.show();var delay_time=70*i,callback=11==i?function(){self.finishAnimation()}:"";box_clone.delay(delay_time).animate({top:_ftop},time_animate,easing,callback)}},animationHideBars:function(options){var self=this,options=$.extend({},{random:!1},options||{});this.settings.is_animating=!0;var easing=""==this.settings.easing_default?"easeOutCirc":this.settings.easing_default,time_animate=700/this.settings.velocity,image_old=this.box_skitter.find(".image_main").attr("src");this.setActualLevel(),this.setLinkAtual(),this.box_skitter.find(".image_main").attr({src:this.settings.image_atual});var division_w=Math.ceil(this.settings.width_skitter/(this.settings.width_skitter/10)),total=division_w,width_box=Math.ceil(this.settings.width_skitter/division_w),height_box=this.settings.height_skitter;for(i=0;i<total;i++){var _vtop=0,_vleft=width_box*i,_vtop_image=0,_vleft_image=-width_box*i,_fleft="+="+width_box,box_clone=this.getBoxCloneImgOld(image_old);box_clone.css({left:0,top:0,width:width_box,height:height_box}),box_clone.find("img").css({left:_vleft_image,top:0});var box_clone_main=this.getBoxCloneImgOld(image_old);box_clone_main.css({left:_vleft+"px",top:"0px",width:width_box,height:height_box}),box_clone_main.html(box_clone),this.addBoxClone(box_clone_main),box_clone.show(),box_clone_main.show();var delay_time=50*i,callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.delay(delay_time).animate({left:_fleft},time_animate,easing,callback)}},animationSwapBars:function(options){var self=this,options=$.extend({},{direction:"top",delay_type:"sequence",total:7,easing:"easeOutCirc"},options||{});this.settings.is_animating=!0;var easing=""==this.settings.easing_default?options.easing:this.settings.easing_default,time_animate=500/this.settings.velocity,image_old=this.box_skitter.find(".image_main").attr("src");this.setActualLevel(),this.setLinkAtual(),this.box_skitter.find(".image_main").attr({src:this.settings.image_atual}),this.box_skitter.find(".image_main").hide();var total=options.total;for(i=0;i<total;i++){var width_box=Math.ceil(this.settings.width_skitter/total),height_box=this.settings.height_skitter,_itopc=0,_ileftc=width_box*i,_ftopc=-height_box,_fleftc=_ileftc+width_box,_itopn=height_box,_ileftn=_ileftc,_ftopn=0,_fleftn=_ileftc,_vtop_image=0,_vleft_image=-_ileftc;switch(options.delay_type){case"zebra":default:var delay_time=i%2==0?0:150;break;case"random":var delay_time=30*Math.random()*30;break;case"sequence":var delay_time=100*i}var box_clone=this.getBoxCloneImgOld(image_old);box_clone.find("img").css({left:_vleft_image,top:0}),box_clone.css({top:0,left:0,width:width_box,height:height_box});var box_clone_next=this.getBoxClone();box_clone_next.find("img").css({left:_vleft_image,top:0}),box_clone_next.css({top:0,left:-width_box,width:width_box,height:height_box});var box_clone_container=this.getBoxClone();box_clone_container.html("").append(box_clone).append(box_clone_next),box_clone_container.css({top:0,left:_ileftc,width:width_box,height:height_box}),this.addBoxClone(box_clone_container),box_clone_container.show(),box_clone.show(),box_clone_next.show();var callback=i==total-1?function(){self.finishAnimation()}:"";box_clone.delay(delay_time).animate({left:width_box},time_animate,easing),box_clone_next.delay(delay_time).animate({left:0},time_animate,easing,callback)}},animationSwapBlocks:function(options){var self=this,options=$.extend({},{easing_old:"easeInOutQuad",easing_new:"easeOutQuad"},options||{});this.settings.is_animating=!0;var easing_old=""==this.settings.easing_default?options.easing_old:this.settings.easing_default,easing_new=""==this.settings.easing_default?options.easing_new:this.settings.easing_default,time_animate=800/this.settings.velocity,image_old=this.box_skitter.find(".image_main").attr("src");this.setActualLevel(),this.setLinkAtual(),this.box_skitter.find(".image_main").attr({src:this.settings.image_atual}),this.box_skitter.find(".image_main").hide();var total=2,width_box=this.settings.width_skitter,height_box=Math.ceil(this.settings.height_skitter/2),box_clone1=this.getBoxCloneImgOld(image_old),box_clone2=this.getBoxCloneImgOld(image_old);box_clone1.find("img").css({left:0,top:0}),box_clone1.css({top:0,left:0,width:width_box,height:height_box}),box_clone2.find("img").css({left:0,top:-height_box}),box_clone2.css({top:height_box,left:0,width:width_box,height:height_box});var box_clone_next1=this.getBoxClone(),box_clone_next2=this.getBoxClone();box_clone_next1.find("img").css({left:0,top:height_box}),box_clone_next1.css({top:0,left:0,width:width_box,height:height_box}),box_clone_next2.find("img").css({left:0,top:-2*height_box}),box_clone_next2.css({top:height_box,left:0,width:width_box,height:height_box}),this.addBoxClone(box_clone_next1),this.addBoxClone(box_clone_next2),this.addBoxClone(box_clone1),this.addBoxClone(box_clone2),box_clone1.show(),box_clone2.show(),box_clone_next1.show(),box_clone_next2.show();var callback=function(){self.finishAnimation()};box_clone1.find("img").animate({top:height_box},time_animate,easing_old,(function(){box_clone1.remove()})),box_clone2.find("img").animate({top:-2*height_box},time_animate,easing_old,(function(){box_clone2.remove()})),box_clone_next1.find("img").animate({top:0},time_animate,easing_new),box_clone_next2.find("img").animate({top:-height_box},time_animate,easing_new,callback)},animationCut:function(options){var self=this,options=$.extend({},{easing_old:"easeInOutExpo",easing_new:"easeInOutExpo"},options||{});this.settings.is_animating=!0;var easing_old=""==this.settings.easing_default?options.easing_old:this.settings.easing_default,easing_new=""==this.settings.easing_default?options.easing_new:this.settings.easing_default,time_animate=900/this.settings.velocity,image_old=this.box_skitter.find(".image_main").attr("src");this.setActualLevel(),this.setLinkAtual(),this.box_skitter.find(".image_main").attr({src:this.settings.image_atual}),this.box_skitter.find(".image_main").hide();var total=2,width_box=this.settings.width_skitter,height_box=Math.ceil(this.settings.height_skitter/2),box_clone1=this.getBoxCloneImgOld(image_old),box_clone2=this.getBoxCloneImgOld(image_old);box_clone1.find("img").css({left:0,top:0}),box_clone1.css({top:0,left:0,width:width_box,height:height_box}),box_clone2.find("img").css({left:0,top:-height_box}),box_clone2.css({top:height_box,left:0,width:width_box,height:height_box});var box_clone_next1=this.getBoxClone(),box_clone_next2=this.getBoxClone();box_clone_next1.find("img").css({left:0,top:0}),box_clone_next1.css({top:0,left:width_box,width:width_box,height:height_box}),box_clone_next2.find("img").css({left:0,top:-height_box}),box_clone_next2.css({top:height_box,left:-width_box,width:width_box,height:height_box}),this.addBoxClone(box_clone_next1),this.addBoxClone(box_clone_next2),this.addBoxClone(box_clone1),this.addBoxClone(box_clone2),box_clone1.show(),box_clone2.show(),box_clone_next1.show(),box_clone_next2.show();var callback=function(){self.finishAnimation()};box_clone1.animate({left:-width_box},time_animate,easing_old,(function(){box_clone1.remove()})),box_clone2.animate({left:width_box},time_animate,easing_old,(function(){box_clone2.remove()})),box_clone_next1.animate({left:0},time_animate,easing_new),box_clone_next2.animate({left:0},time_animate,easing_new,callback)},finishAnimation:function(options){var self=this;this.box_skitter.find(".image_main").show(),this.showBoxText(),this.settings.is_animating=!1,this.box_skitter.find(".image_main").attr({src:this.settings.image_atual}),this.box_skitter.find(".image a").attr({href:this.settings.link_atual}),this.settings.is_hover_box_skitter||this.settings.is_paused||this.settings.is_blur||(this.timer=setTimeout((function(){self.completeMove()}),this.settings.interval)),self.startTime()},completeMove:function(){this.clearTimer(!0),this.box_skitter.find(".box_clone").remove(),this.settings.is_paused||this.settings.is_blur||this.nextImage()},setActualLevel:function(){$.isFunction(this.settings.imageSwitched)&&this.settings.imageSwitched(this.settings.image_i,this),this.setImageLink(),this.addClassNumber(),this.hideBoxText(),this.increasingImage()},setImageLink:function(){var name_image=this.settings.images_links[this.settings.image_i][0],link_image=this.settings.images_links[this.settings.image_i][1],label_image=this.settings.images_links[this.settings.image_i][3],target_link=this.settings.images_links[this.settings.image_i][4];this.settings.image_atual=name_image,this.settings.link_atual=link_image,this.settings.label_atual=label_image,this.settings.target_atual=target_link},addClassNumber:function(){var self=this;this.box_skitter.find(".image_number_select").removeClass("image_number_select"),$("#image_n_"+(this.settings.image_i+1)+"_"+this.number_skitter).addClass("image_number_select")},increasingImage:function(){this.settings.image_i++,this.settings.image_i==this.settings.images_links.length&&(this.settings.image_i=0)},getBoxClone:function(){var img_clone;if("#"!=this.settings.link_atual)(img_clone=$('<a href="'+this.settings.link_atual+'"><img src="'+this.settings.image_atual+'" /></a>')).attr({target:this.settings.target_atual});else var img_clone=$('<img src="'+this.settings.image_atual+'" />');img_clone=this.resizeImage(img_clone);var box_clone=$('<div class="box_clone"></div>');return box_clone.append(img_clone),box_clone},getBoxCloneImgOld:function(image_old){var img_clone;if("#"!=this.settings.link_atual)(img_clone=$('<a href="'+this.settings.link_atual+'"><img src="'+image_old+'" /></a>')).attr({target:this.settings.target_atual});else var img_clone=$('<img src="'+image_old+'" />');img_clone=this.resizeImage(img_clone);var box_clone=$('<div class="box_clone"></div>');return box_clone.append(img_clone),box_clone},resizeImage:function(img_clone){return this.settings.fullscreen&&img_clone.find("img").height(this.settings.height_skitter),img_clone},addBoxClone:function(box_clone){this.box_skitter.find(".container_skitter").append(box_clone)},getEasing:function(easing){var easing_accepts=["easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce"];return jQuery.inArray(easing,easing_accepts)>0?easing:""},getRandom:function(i){return Math.floor(Math.random()*i)},setValueBoxText:function(){this.box_skitter.find(".label_skitter").html(this.settings.label_atual)},showBoxText:function(){var self=this;if(null!=this.settings.label_atual&&""!=this.settings.label_atual&&this.settings.label)switch(this.settings.labelAnimation){case"slideUp":default:this.box_skitter.find(".label_skitter").slideDown(400);break;case"left":case"right":this.box_skitter.find(".label_skitter").animate({left:0},400,"easeInOutQuad");break;case"fixed":}},hideBoxText:function(){var self=this;switch(self.settings.labelAnimation){case"slideUp":default:this.box_skitter.find(".label_skitter").slideUp(200,(function(){self.setValueBoxText()}));break;case"left":case"right":var _left="left"==self.settings.labelAnimation?-self.box_skitter.find(".label_skitter").width():self.box_skitter.find(".label_skitter").width();self.box_skitter.find(".label_skitter").animate({left:_left},400,"easeInOutQuad",(function(){self.setValueBoxText()}));break;case"fixed":self.setValueBoxText()}},stopOnMouseOver:function(){var self=this;self.settings.stop_over?self.box_skitter.hover((function(){self.settings.stop_over&&(self.settings.is_hover_box_skitter=!0),self.settings.is_paused_time||self.pauseTime(),self.setHideTools("hover"),self.clearTimer(!0)}),(function(){self.settings.stop_over&&(self.settings.is_hover_box_skitter=!1),0!=self.settings.elapsedTime||self.settings.is_animating||self.settings.is_paused?self.settings.is_paused||self.resumeTime():self.startTime(),self.setHideTools("out"),self.clearTimer(!0),!self.settings.is_animating&&self.settings.images_links.length>1&&(self.timer=setTimeout((function(){self.completeMove()}),self.settings.interval-self.settings.elapsedTime),self.box_skitter.find(".image_main").attr({src:self.settings.image_atual}),self.box_skitter.find(".image a").attr({href:self.settings.link_atual}))})):self.box_skitter.hover((function(){self.setHideTools("hover")}),(function(){self.setHideTools("out")}))},setHideTools:function(type){var self=this,opacity_elements=this.settings.opacity_elements,interval_in_elements=this.settings.interval_in_elements,interval_out_elements=this.settings.interval_out_elements;"hover"==type?(this.settings.hideTools&&(this.settings.numbers&&this.box_skitter.find(".info_slide").show().css({opacity:0}).animate({opacity:opacity_elements},interval_in_elements),this.settings.navigation&&this.box_skitter.find(".prev_button, .next_button").show().css({opacity:0}).animate({opacity:opacity_elements},interval_in_elements),this.settings.focus&&!this.settings.foucs_active&&this.box_skitter.find(".focus_button").stop().show().css({opacity:0}).animate({opacity:opacity_elements},interval_in_elements),this.settings.controls&&this.box_skitter.find(".play_pause_button").stop().show().css({opacity:0}).animate({opacity:opacity_elements},interval_in_elements)),!this.settings.focus||this.settings.foucs_active||this.settings.hideTools||this.box_skitter.find(".focus_button").stop().animate({opacity:1},interval_in_elements),this.settings.controls&&!this.settings.hideTools&&this.box_skitter.find(".play_pause_button").stop().animate({opacity:1},interval_in_elements)):(this.settings.hideTools&&(this.settings.numbers&&this.box_skitter.find(".info_slide").queue("fx",[]).show().css({opacity:opacity_elements}).animate({opacity:0},interval_out_elements),this.settings.navigation&&this.box_skitter.find(".prev_button, .next_button").queue("fx",[]).show().css({opacity:opacity_elements}).animate({opacity:0},interval_out_elements),this.settings.focus&&!this.settings.foucs_active&&this.box_skitter.find(".focus_button").stop().css({opacity:opacity_elements}).animate({opacity:0},interval_out_elements),this.settings.controls&&this.box_skitter.find(".play_pause_button").stop().css({opacity:opacity_elements}).animate({opacity:0},interval_out_elements)),!this.settings.focus||this.settings.foucs_active||this.settings.hideTools||this.box_skitter.find(".focus_button").stop().animate({opacity:.3},interval_out_elements),this.settings.controls&&!this.settings.hideTools&&this.box_skitter.find(".play_pause_button").stop().animate({opacity:.3},interval_out_elements))},clearTimer:function(force){var self=this;clearInterval(this.timer)},setLinkAtual:function(){"#"!=this.settings.link_atual&&""!=this.settings.link_atual?this.box_skitter.find(".image a").attr({href:this.settings.link_atual,target:this.settings.target_atual}):this.box_skitter.find(".image a").removeAttr("href")},hideTools:function(){this.box_skitter.find(".info_slide").fadeTo(0,0),this.box_skitter.find(".prev_button").fadeTo(0,0),this.box_skitter.find(".next_button").fadeTo(0,0),this.box_skitter.find(".focus_button").fadeTo(0,0),this.box_skitter.find(".play_pause_button").fadeTo(0,0)},focusSkitter:function(){var self=this,focus_button=$('<a href="#" class="focus_button">focus</a>');self.box_skitter.append(focus_button);var _left=(self.settings.width_skitter-focus_button.width())/2,_space=0;self.settings.controls&&(_left-=25),self.settings.controls_position==self.settings.focus_position&&(_space=focus_button.width()+5);var cssPosition={left:_left};switch(self.settings.focus_position){case"leftTop":cssPosition={left:5+_space,top:30};break;case"rightTop":cssPosition={right:5+_space,top:30};break;case"leftBottom":cssPosition={left:5+_space,bottom:5,top:"auto"};break;case"rightBottom":cssPosition={right:5+_space,bottom:5,top:"auto"}}focus_button.css(cssPosition).animate({opacity:.3},self.settings.interval_in_elements),$(document).keypress((function(e){var code;27==(e.keyCode?e.keyCode:e.which)&&$("#overlay_skitter").trigger("click")}));var _top=$(".box_skitter").offset().top,_left=$(".box_skitter").offset().left;self.box_skitter.find(".focus_button").click((function(){if(self.settings.foucs_active)return!1;self.settings.foucs_active=!0,$(this).stop().animate({opacity:0},self.settings.interval_out_elements);var div=$('<div id="overlay_skitter"></div>').height($(document).height()).hide().fadeTo(self.settings.interval_in_elements,.98),_topFinal=($(window).height()-$(".box_skitter").height())/2+$(document).scrollTop(),_leftFinal=($(window).width()-$(".box_skitter").width())/2;return self.box_skitter.before('<div id="mark_position"></div>'),$("body").prepend(div),$("body").prepend(self.box_skitter),self.box_skitter.css({top:_top,left:_left,position:"absolute","z-index":9999}).animate({top:_topFinal,left:_leftFinal},2e3,"easeOutExpo"),$("#mark_position").width($(".box_skitter").width()).height($(".box_skitter").height()).css({background:"none"}).fadeTo(300,.3),!1})),$(document).on("click","#overlay_skitter",(function(){return!$(this).hasClass("finish_overlay_skitter")&&(self.settings.foucs_active=!1,$(this).addClass("finish_overlay_skitter"),self.settings.hideTools||self.box_skitter.find(".focus_button").animate({opacity:.3},200),self.box_skitter.stop().animate({top:_top,left:_left},200,"easeOutExpo",(function(){$("#mark_position").before(self.box_skitter),$(this).css({position:"relative",top:0,left:0}),$("#mark_position").remove()})),$("#overlay_skitter").fadeTo(self.settings.interval_out_elements,0,(function(){$(this).remove()})),!1)}))},setControls:function(){var self=this,play_pause_button=$('<a href="#" class="play_pause_button">pause</a>');self.box_skitter.append(play_pause_button);var _left=(self.settings.width_skitter-play_pause_button.width())/2;self.settings.focus&&(_left+=25);var cssPosition={left:_left};switch(self.settings.controls_position){case"leftTop":cssPosition={left:5,top:30};break;case"rightTop":cssPosition={right:5,top:30};break;case"leftBottom":cssPosition={left:5,bottom:5,top:"auto"};break;case"rightBottom":cssPosition={right:5,bottom:5,top:"auto"}}play_pause_button.css(cssPosition).animate({opacity:.3},self.settings.interval_in_elements),play_pause_button.click((function(){return self.settings.is_paused?(self.settings.is_animating||self.box_skitter.find(".progressbar").is(":visible")?self.resumeTime():self.settings.elapsedTime=0,self.settings.progressbar||self.resumeTime(),self.settings.is_paused=!1,$(this).html("pause"),$(this).fadeTo(100,.5).fadeTo(100,1),$(this).removeClass("play_button"),self.settings.stop_over||(self.clearTimer(!0),!self.settings.is_animating&&self.settings.images_links.length>1&&(self.timer=setTimeout((function(){self.completeMove()}),self.settings.interval-self.settings.elapsedTime),self.box_skitter.find(".image_main").attr({src:self.settings.image_atual}),self.box_skitter.find(".image a").attr({href:self.settings.link_atual})))):($(this).html("play"),$(this).fadeTo(100,.5).fadeTo(100,1),$(this).addClass("play_button"),self.pauseTime(),self.settings.is_paused=!0,self.clearTimer(!0)),!1}))},objectSize:function(obj){var size=0,key;for(key in obj)obj.hasOwnProperty(key)&&size++;return size},addProgressBar:function(){var self=this,progressbar=$('<div class="progressbar"></div>');this.box_skitter.append(progressbar),0==this.objectSize(this.settings.progressbar_css)&&(parseInt(progressbar.css("width"))>0?this.settings.progressbar_css.width=parseInt(progressbar.css("width")):this.settings.progressbar_css={width:this.settings.width_skitter,height:5}),this.objectSize(this.settings.progressbar_css)>0&&null==this.settings.progressbar_css.width&&(this.settings.progressbar_css.width=this.settings.width_skitter),progressbar.css(this.settings.progressbar_css).hide()},startProgressBar:function(){var self=this;if(this.settings.is_hover_box_skitter||this.settings.is_paused||this.settings.is_blur||!this.settings.progressbar)return!1;this.box_skitter.find(".progressbar").hide().dequeue().width(this.settings.progressbar_css.width).animate({width:"show"},this.settings.interval,"linear")},pauseProgressBar:function(){var self=this;this.settings.is_animating||this.box_skitter.find(".progressbar").stop()},resumeProgressBar:function(){var self=this;if(this.settings.is_hover_box_skitter||this.settings.is_paused||!this.settings.progressbar)return!1;this.box_skitter.find(".progressbar").dequeue().animate({width:this.settings.progressbar_css.width},this.settings.interval-this.settings.elapsedTime,"linear")},hideProgressBar:function(){var self=this;if(!self.settings.progressbar)return!1;self.box_skitter.find(".progressbar").stop().fadeOut(300,(function(){$(this).width(self.settings.progressbar_css.width)}))},startTime:function(){var self=this;this.settings.is_paused_time=!1;var date=new Date;this.settings.elapsedTime=0,this.settings.timeStart=date.getTime(),this.startProgressBar()},pauseTime:function(){var self=this;if(this.settings.is_paused_time)return!1;this.settings.is_paused_time=!0;var date=new Date;this.settings.elapsedTime+=date.getTime()-this.settings.timeStart,this.pauseProgressBar()},resumeTime:function(){var self=this;this.settings.is_paused_time=!1;var date=new Date;this.settings.timeStart=date.getTime(),this.resumeProgressBar()},enableNavigationKeys:function(){var self=this;$(window).keydown((function(e){39==e.keyCode||40==e.keyCode?self.box_skitter.find(".next_button").trigger("click"):37!=e.keyCode&&38!=e.keyCode||self.box_skitter.find(".prev_button").trigger("click")}))},getBoxCloneBackground:function(options){var box_clone=$('<div class="box_clone"></div>');return box_clone.css({left:options.left,top:options.top,width:options.width,height:options.height,"background-image":"url("+options.image+")","background-position":options.position.left+"px "+options.position.top+"px"}),box_clone},shuffleArray:function(arrayOrigem){for(var self=this,arrayDestino=new Array,indice;arrayOrigem.length>0;)indice=this.randomUnique(0,arrayOrigem.length-1),arrayDestino[arrayDestino.length]=arrayOrigem[indice],arrayOrigem.splice(indice,1);return arrayDestino},randomUnique:function(valorIni,valorFim){var numRandom;do{numRandom=Math.random()}while(1==numRandom);return numRandom*(valorFim-valorIni+1)+valorIni|0},windowFocusOut:function(){var self=this;$(window).bind("blur",(function(){self.settings.is_blur=!0,self.pauseTime(),self.clearTimer(!0)})),$(window).bind("focus",(function(){self.settings.images_links.length>1&&(self.settings.is_blur=!1,0==self.settings.elapsedTime?self.startTime():self.resumeTime(),self.settings.elapsedTime<=self.settings.interval&&(self.clearTimer(!0),self.timer=setTimeout((function(){self.completeMove()}),self.settings.interval-self.settings.elapsedTime),self.box_skitter.find(".image_main").attr({src:self.settings.image_atual}),self.box_skitter.find(".image a").attr({href:self.settings.link_atual})))}))}}),$.fn.css3=function(props){var css={},prefixes=["moz","ms","o","webkit"];for(var prop in props){for(var i=0;i<prefixes.length;i++)css["-"+prefixes[i]+"-"+prop]=props[prop];css[prop]=props[prop]}return this.css(css),this},$.fn.animateRotate=function(angle,duration,easing,complete){var args=$.speed(duration,easing,complete),step=args.step;return this.each((function(i,e){args.step=function(now){if($.style(e,"transform","rotate("+now+"deg)"),step)return step.apply(this,arguments)},$({deg:0}).animate({deg:angle},args)}))}}(jQuery);